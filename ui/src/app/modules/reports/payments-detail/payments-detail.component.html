<!--
//
//  
//  
//
//  Created by Francisco Hernadez on 06-12-2018
//  Copyright © 2018 hightech-corp. All rights reserved.
//
-->

<div class="container-fluid container-fullw  box-shadow mb-5 pt-2">

  <form [formGroup]="paymentDetailFrm" (validSubmit)="search()">
  
  <div class="row pb-4">

    <div class="col-md-3">
      <div class="form-group">			
        <label for="client">Cliente:</label>
        <input  type="text" name="client" id="client" class="form-control"  placeholder=" ..." formControlName="client">
      </div>

      <div class="form-group">			
        <label for="contract">Contrato:</label>
        <input  type="text" name="contract" id="contract" class="form-control"  placeholder=" ..." formControlName="contract">
      </div>
      
    </div>

    <div class="col-md-3">
      <div class="form-group">			
        <label for="accountType">Tipo de cuenta:</label>
        <input  type="text" name="accountType" id="accountType" class="form-control"  placeholder=" ..." formControlName="accountType">
      </div>

      <div class="form-group">			
        <label for="accountNumber">N&uacute;mero de cuenta:</label>
        <input  type="text" name="accountNumber" id="accountNumber" class="form-control"  placeholder=" ..." formControlName="accountNumber">
      </div>
      
    </div>

    <div class="col-md-3">
      <div class="form-group">			
        <label for="startDate">Fecha desde:</label>
        <input  type="text" name="startDate" id="startDate" class="form-control" bsDatepicker  [bsConfig]="bsConfig" #dpa="bsDatepicker" readonly placeholder="Seleccione" formControlName="startDate">
      </div>

      <div class="form-group">			
        <label for="endDate">Fecha Hasta:</label>
        <input  type="text" name="endDate" id="endDate" class="form-control" bsDatepicker  [bsConfig]="bsConfig" #dpb="bsDatepicker" readonly placeholder="Seleccione" formControlName="endDate">
      </div>
      
    </div>

    

      <div class="col-md-3">
          <div class="form-group">
              &nbsp;
            <label for=""> &nbsp; &nbsp; </label>
            <button class="btn btn-primary  btn-sm btn-block" type="submit" ngbTooltip="Buscar" type="submit">
                <i class="fa fa-search fa-lg"></i>
            </button>
          </div>  
          <div class="form-group">
              &nbsp;
            <label for=""> &nbsp; &nbsp; </label>
            <button class="btn btn-primary  btn-sm btn-block"  ngbTooltip="Limpiar" type="button">
                <i class="fa fa-eraser fa-lg"></i> 
            </button>
          </div>

      </div>

      </div>
      
    </form>
  </div>

  <h1 class="display-5 text-center mb-4">Reporte de detalle de pagos</h1>


  <ngx-datatable
    class='material'
    [columnMode]="'force'"        
    [headerHeight]="50"
    [footerHeight]="50"
    [rowHeight]="'auto'"
    [limit]="5"
    [rows]='results'>

      <ngx-datatable-column name="Fecha" prop="date"></ngx-datatable-column>
      <ngx-datatable-column name="Monto debe" prop="debtClientAmount"></ngx-datatable-column>
      <ngx-datatable-column name="Estado contable" prop="accountingStatement"></ngx-datatable-column>
      <ngx-datatable-column name="Monto haber" prop="amountToHave"></ngx-datatable-column>
      <ngx-datatable-column name="Estado cobranza" prop="paymentStatus"></ngx-datatable-column>
      <ngx-datatable-column name="Saldo" prop="balanceStatus"></ngx-datatable-column>



      <ngx-datatable-column name="Acciones" prop="acciones" >
          <ng-template let-row="row" let-id="value" ngx-datatable-cell-template>
            <button class="btn btn-primary fa fa-pencil"></button>
          </ng-template>
      </ngx-datatable-column>

    
  </ngx-datatable> 


  <ng-template #printTpl>
    <div class="modal-header modaleHeader">
      <h4 class="modal-title pull-left">Imprimir</h4>
      <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide(); animateBank=false; ">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <h6 class="text-center text-bold font-weight-bold">¿Esta seguro que desea realizar imprimir el item(s)
        seleccionado(s)?</h6>
  
      <div class="row justify-content-center align-items-center">
  
  
        <div class="ml-2 mr-2 ">
          <button class="btn btn-secondary" (click)="cancel()"> Cancelar</button>
        </div>
        <div class="ml-2 mr-2 ">
          <button class="btn btn-primary" (click)="printSelected()">Aceptar</button>
        </div>
      </div>
    </div>
  </ng-template>